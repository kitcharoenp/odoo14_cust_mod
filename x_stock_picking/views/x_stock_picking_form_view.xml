<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="x_stock_picking_form_view" model="ir.ui.view">
      <field name="name">xstock.picking.form</field>
      <field name="model">stock.picking</field>
      <field name="inherit_id" ref="stock.view_picking_form"/>
      <field name="arch" type="xml">

        <!-- hide 'duplicate' button -->
        <xpath expr="//form" position="attributes">
                <attribute name="duplicate">false</attribute>
        </xpath>

        <!-- hide 'create' button -->
        <xpath expr="//form" position="attributes">
                <attribute name="create">false</attribute>
        </xpath>

        <!-- hide 'delete' button -->
        <xpath expr="//form" position="attributes">
                <attribute name="delete">false</attribute>
        </xpath>

        <!-- hide 'print' button -->
        <xpath expr="//form" position="attributes">
                <attribute name="print">false</attribute>
        </xpath>

        <!-- invisible 'Mark as Todo' button -->
        <xpath expr="//button[@name='action_confirm']" position="attributes">
          <attribute name="attrs">{'invisible' : [('state', '!=', '')]}</attribute>
        </xpath>

        <!-- invisible 'Check Availability' button -->
        <xpath expr="//button[@name='action_assign']" position="attributes">
          <attribute name="attrs">{'invisible' : [('state', '!=', '')]}</attribute>
        </xpath>

        <!-- invisible 'Validate' button -->
        <xpath expr="//button[@name='button_validate']" position="attributes">
          <attribute name="attrs">{'invisible' : [('state', '!=', '')]}</attribute>
        </xpath>

        <!-- invisible 'Print' button -->
        <xpath expr="//button[@name='do_print_picking']" position="attributes">
          <attribute name="attrs">{'invisible' : [('state', '!=', '')]}</attribute>
        </xpath>

        <!-- invisible 'Unreserve' button -->
        <xpath expr="//button[@name='do_unreserve']" position="attributes">
          <attribute name="attrs">{'invisible' : [('state', '!=', '')]}</attribute>
        </xpath>

        <!-- invisible 'Print' button -->
        <xpath expr="//button[6]" position="attributes">
          <attribute name="attrs">{'invisible' : [('state', '!=', '')]}</attribute>
        </xpath> 

        <!-- invisible 'Return' button -->
        <xpath expr="//button[7]" position="attributes">
          <attribute name="attrs">{'invisible' : [('state', '!=', '')]}</attribute>
        </xpath> 

        <!-- invisible 'Scrap' button -->
        <xpath expr="//button[@name='button_scrap']" position="attributes">
          <attribute name="attrs">{'invisible' : [('state', '!=', '')]}</attribute>
        </xpath>

        <!-- invisible 'Lock' button -->
        <xpath expr="//button[@name='action_toggle_is_locked']" position="attributes">
          <attribute name="attrs">{'invisible' : [('state', '!=', '')]}</attribute>
        </xpath>

        <!-- invisible 'Cancel' button -->
        <xpath expr="//button[@name='action_cancel']" position="attributes">
          <attribute name="attrs">{'invisible' : [('state', '!=', '')]}</attribute>
        </xpath>

        <!-- invisible 'Scraps' button -->
        <xpath expr="//button[@name='action_see_move_scrap']" position="attributes">
          <attribute name="attrs">{'invisible' : [('state', '!=', '')]}</attribute>
        </xpath>

        <!-- invisible 'Packages' button -->
        <xpath expr="//button[@name='action_see_packages']" position="attributes">
          <attribute name="attrs">{'invisible' : [('state', '!=', '')]}</attribute>
        </xpath>

        <!-- invisible 'Operations' button -->
        <xpath expr="//button[@name='action_picking_move_tree']" position="attributes">
          <attribute name="attrs">{'invisible' : [('state', '!=', '')]}</attribute>
        </xpath>

        <!-- 'Sync' button -->
        <div name="button_box" position="inside">
          <button type="object"
              name="action_sync"
              string="Sync"
              class="oe_stat_button"
              icon="fa-sync">
          </button>
        </div>

        <!-- insert a `x_workorder_id` field  -->
        <xpath expr="//field[@name='backorder_id']"
            position="after">
            <field name="x_workorder_id" readonly="1"/>
        </xpath>

        <!-- set readonly attribute -->
        <xpath expr="//field[@name='partner_id']" position="attributes">
          <attribute name="readonly">1</attribute>
        </xpath>
        
        <xpath expr="//field[@name='picking_type_id']" position="attributes">
          <attribute name="readonly">1</attribute>
        </xpath>

        <xpath expr="//field[@name='scheduled_date']" position="attributes">
         <attribute name="invisible">1</attribute>
        </xpath>

        <xpath expr="//field[@name='date_done']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>

        <xpath expr="//field[@name='date_deadline']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>

        <xpath expr="//field[@name='origin']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>

        <!-- insert a `crm_document_name` field  -->
        <xpath expr="//field[@name='date_done']"
            position="after">
            <field name="x_crm_document_id" readonly="1"/>
            <field name="x_crm_document_name" readonly="1"/>
            <field name="x_crm_document_status" readonly="1"/>
        </xpath>

         <xpath expr="//page[@name='operations']//field[@name='forecast_availability']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>

        <xpath expr="//page[@name='extra']//field[@name='user_id']" position="attributes">
          <attribute name="readonly">1</attribute>
        </xpath>

        <xpath expr="//page[@name='extra']//field[@name='move_type']" position="attributes">
          <attribute name="readonly">1</attribute>
        </xpath>


      </field>

    </record>
</odoo>